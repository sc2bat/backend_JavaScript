<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>06_Function02</title>
    <style type="text/css">
        /*  */
    </style>
    <script type="text/JavaScript">
        /* 1. 함수의 전달 */
        function add(a, b){
            c = a + b;
            document.write(a + "+" + b + "=" + c + "<br>");
            return c;
        }
        // 자바스크립트 함수의 전달인수와 매개변수는 자바와 비슷하지만 매개변수의 자료형을 표시하지 않고
        // 변수의 이름만 명시하고 사용합니다. 리턴값의 사용은 자봐와 똑같습니다.
        var result = add(10, 20);

        // 2. 매개변수의 사용
        // 생성되어 있는 매개 변수보다 전달인수의 갯수가 많으면 해당 전달인수는 무시됩니다.
        function f(x){
            document.write(x + "*" + x + "=" + (x*x) + "<br>");
            return x*x;
        }
        result = f(5, 3); // - 두번째 전달인수는 무시한다. 

        // 3. 함수의 오버로딩 사용예
        // 배열을 만들어주는 Array() 함수의 다양한 사용(오버로딩)
        // - Array() 함수는 기본적으로 매개변수에 아무것도 입력하지 않게 정의됨.
        var array1 = Array(); // 빈 배열을 만듦
        var array2 = Array(10); // 매개변수만큼의 크기를 가지는 배열을 만듦
        var array3 = Array(25, 35, 45, 55); // 매개변수를 배열로 만듦
        document.write("<h1>" + "array1 " + array1 + "<br>" + "array2 " + array2 + "<br>" + "array3 " + array3 + "</h1>");

        // 4. arguments 변수 사용 예제
        function sumAll(){
            document.write("<h1>" + typeof(arguments) + ' : ' + arguments.length + "</h1>");
            var s = "";
            var sum = 0;
            for(var i in arguments){
                s = s + arguments[i] + " ";
                sum = sum + arguments[i];
            }
            document.write("<h1>arguments : " + s + "</h1>")
            document.write("<h1>sum : " + sum + "</h1>")
        }
        document.write("<br />");
        sumAll(1, 2, 3, 4, 5);
        document.write("<br />");
        sumAll(1, 2, 3, 4, 5, 6, 7, 8, 9);

        // 입력 매개변수를 모두 더해 리턴 또는 출력하는 함수
        function addAll() {
            var result = 0;
            for (var i in arguments) {
                result += arguments[i];
            }
            return result;
        }
        result = addAll(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
        document.write("<h1> 배열의 합계 : " + result + "</h1>");
        document.write("<br />");

        // 5. 리턴값이 익명함수인 경우 - 헷갈린다..?
        function returnFunc() {
            // var f = function(){document.write("<h1>리턴된 함수의 출력</h1>");};
            // return f;
            return function(){document.write("<h1>리턴된 함수의 출력</h1>");};
        }
        // returnTest() 함수 호출 후 리턴받은 익명함수를 value 변수에 저장
        var value = returnFunc();
        
        value(); // 화면에 "리턴된 함수의 출력" 라고 출력합니다
        returnFunc()(); // 변수를 저장해야하기 때문에 ()를 붙여서 
        // 함수 호출에 의해 리턴된 익명함수를 변수에 저장하지않고, () 만 붙여도 호출실행됩니다.
        document.write("<br />");

        // 6. 익명함수를 함수의 전달인수로 전달하는 경우
        function varFunction(varFunc){
            for(var i = 0; i < 5; i++){
                varFunc();
            }
        }
        var func = function(){document.write('<h1>Hello JavaScript..!</h1>');}
        varFunction(func);
        //varFunction( function(){document.write('<h1>Hello JavaScript..!</h1>');});
        document.write("<br />");

        // 7. 선언적 함수를 매개변수를 전달
        function justFunction(){
            document.write('<h1>Hello JavaScript..#2</h1>');
        }
        varFunction(justFunction);
        document.write("<br />");

        // 8. 지역 변수와 유효범위
        function test(name){
            var output = 'Hello ' + name + '..!';
            return output;
        }
        // output 변수는 지역변수이므로, 함수를 벗어나면 없는 변수가 됩니다.

        // document.write('<h1>' + output + '</h1>');
        // 실행결과 에러 메세지 : output is not defined.

        // 지역변수는 자신을 감싸고 잇는 중괄호를 벗어나는 순간 소멸됩니다.
        // 지역변수가 소멸되기 전에 그 값 리턴으로 전달받아 사용하면, 지역변수 값을 살려서 활용이 가능합니다.
        var s = test('홍길동');
        document.write('<h1>' + s + '</h1>');

        // 9. 클로져(Closure) : 지역변수의 값을 살리고 활용하기 위해 리턴되는 함수의 리턴값으로 활용.
        // 리턴값 외에 함수실행 수 없어지는 지역변수 값을 활용하기 위한 방법
        function test2(name){
            var output = 'Hello ' + name + '..!';
            return function(){return output;}; // 지역변수를 담은 익명함수가 리턴됩니다.
        }

        var func1 = test2('이순신');
        // var func1 = function(){return 'Hello 이순신';};
        var s = func1();
        document.write('<h1>1 s' + s + '</h1>');
        document.write('<h1>2 func1()' + func1() + '</h1>');
        document.write('<h1>3 test2()()' + test2('이순신')() + '</h1>');


        document.write("<br />");
    </script>
</head>
<body>
    <script type="text/JavaScript">

    </script>
    <div>
        
    </div>
</body>
</html>